(this["webpackJsonpmedia-recorder-react"]=this["webpackJsonpmedia-recorder-react"]||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(3),i=n.n(a),c=(n(15),n(16),n(1)),s=n.n(c),u=n(4),d=n(5),l=n(6),m=n(8),h=n(7),p=n(9),v=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).mimeType={type:"audio/wav"},n.mediaChunks=[],n.mediaStream=null,n.recorder=null,n.blob=null,n.createNewRecorder=function(e){var t=new window.MediaRecorder(e);return t.ondataavailable=function(e){console.log("Pushing...",e.data),n.mediaChunks.push(e.data),console.log("Media Chunks...",n.mediaChunks)},t.onstart=n.onRecordStart,new Promise((function(e,n){t.onstop=function(t){console.log("stopping"),e()},t.onerror=function(e){return n(e.name)}})).then(n.saveMediaBlob).then(n.onRecordStop),t},n.record=function(){return n.recorder.start()},n.stopRecord=function(){return n.recorder.stop()},n.onRecordStart=function(){return console.log("Starting Recording")},n.saveMediaBlob=function(){try{return new window.Blob(n.mediaChunks,{type:n.mimeType})}catch(e){console.error("Error generating file:",e)}},n.onRecordStop=function(e){n.blob=e,n.setState({audioBlob:URL.createObjectURL(e)})},n.onReset=function(){console.log("Resetting..."),n.mediaChunks=[],n.blob=null,n.recorder=n.createNewRecorder(n.mediaStream),n.setState({audioBlob:null})},n.state={audioBlob:null},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.mediaChecks()}},{key:"mediaChecks",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasUserMedia()){e.next=2;break}throw new Error("Navigator does not support video media record.");case 2:return e.next=4,this.hasAudioVideoDevices();case 4:if(e.sent){e.next=6;break}throw new Error("Not audio/video input devices detected.");case 6:return e.next=8,window.navigator.mediaDevices.getUserMedia({audio:!0});case 8:this.mediaStream=e.sent,this.recorder=this.createNewRecorder(this.mediaStream),t=["audio/wav","audio/mpeg","audio/webm","audio/ogg"].filter(MediaRecorder.isTypeSupported),this.mimeType=t[0];case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hasUserMedia",value:function(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}},{key:"hasAudioVideoDevices",value:function(){var e=!1,t=!1;return navigator.mediaDevices.enumerateDevices().then((function(n){return n.forEach((function(n){"audioinput"===n.kind&&(e=!0),"videoinput"===n.kind&&(t=!0)})),e&&t}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.record},"Record"),this.state.audioBlob?r.a.createElement("button",{onClick:this.onReset},"Reset"):r.a.createElement("button",{onClick:this.stopRecord},"Stop"),this.state.audioBlob&&r.a.createElement("article",null,r.a.createElement("audio",{controls:!0,src:this.state.audioBlob})))}}]),t}(r.a.Component);var f=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"Record Audio"),r.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.7fb9d5e5.chunk.js.map